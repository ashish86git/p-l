<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Daily Input Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        body { background-color: #f8f9fa; }
        .container { max-width: 950px; }
        .card-header { font-weight: 600; }
        .form-control:focus { border-color: #0d6efd; box-shadow: 0 0 0 0.25rem rgba(13,110,253,0.25); }
        .badge-unit { font-size: 0.75rem; vertical-align: middle; }
    </style>
</head>
<body>
<div class="container mt-5 mb-5 p-4 bg-white shadow-lg rounded">
    <h2 class="text-center mb-4 text-primary">Daily Operations Data Input üìä</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="row">
            <div class="col-12">
                {% for category, message in messages %}
                  <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                      {{ message }}
                      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
                {% endfor %}
            </div>
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST">

        <!-- Date Input -->
        <div class="mb-4 p-3 bg-light rounded border">
            <label for="date" class="form-label fw-bold text-dark">Date for Input:</label>
            <input type="date" id="date" name="date" class="form-control form-control-lg" value="{{ form_data.date or today }}" required>
        </div>

        <!-- Revenue Section -->
        <div class="card mb-4 border-info">
            <div class="card-header text-info"><h4>Revenue (‚Çπ)</h4></div>
            <div class="card-body row gx-5">
                <div class="col-md-6 mb-3">
                    <label for="revenue_warehouse" class="form-label">Warehouse Revenue
                        <span class="badge bg-info text-dark badge-unit">‚Çπ</span>
                    </label>
                    <input type="number" step="0.01" id="revenue_warehouse" name="revenue_warehouse" class="form-control" placeholder="Enter in ‚Çπ" value="{{ form_data.revenue_warehouse or 0 }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="revenue_freight" class="form-label">Freight Revenue
                        <span class="badge bg-info text-dark badge-unit">‚Çπ</span>
                    </label>
                    <input type="number" step="0.01" id="revenue_freight" name="revenue_freight" class="form-control" placeholder="Enter in ‚Çπ" value="{{ form_data.revenue_freight or 0 }}">
                </div>
            </div>
        </div>

        <!-- Staff Section -->
        <div class="card mb-4 border-success">
            <div class="card-header text-success"><h4>Staff Manpower Count üßë‚Äçü§ù‚Äçüßë</h4></div>
            <div class="card-body row gx-4">
                {% for field, label in [('staff_supervisor','Supervisor'),('staff_blue_collar','Blue Collar'),('staff_loader','Loader'),('supervisor_vender','Supervisor Vendor'),('staff_adhoc_manpower','Adhoc Manpower')] %}
                <div class="col-md-3 mb-3">
                    <label for="{{ field }}" class="form-label">{{ label }}
                        <span class="badge bg-success badge-unit">Count</span>
                    </label>
                    <input type="number" id="{{ field }}" name="{{ field }}" class="form-control" placeholder="No. of people" value="{{ form_data[field] or 0 }}">
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- OT Section -->
        <div class="card mb-4 border-warning">
            <div class="card-header text-warning"><h4>Overtime (OT) Hours ‚åö</h4></div>
            <div class="card-body row gx-4">
                {% for field, label in [('ot_supervisor_hrs','Supervisor OT Hours'),('ot_blue_collar_hrs','Blue Collar OT Hours'),('ot_loader_hrs','Loader OT Hours')] %}
                <div class="col-md-4 mb-3">
                    <label for="{{ field }}" class="form-label">{{ label }}
                        <span class="badge bg-warning text-dark badge-unit">Hrs</span>
                    </label>
                    <input type="number" step="0.01" id="{{ field }}" name="{{ field }}" class="form-control" placeholder="Hours" value="{{ form_data[field] or 0 }}">
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Operational Costs Section -->
        <div class="card mb-4 border-danger">
            <div class="card-header text-danger"><h4>Operational Costs üí∏</h4></div>
            <div class="card-body row gx-4">
                {% for cost_field in ['cost_sunday_sup','cost_sunday_bc','cost_holiday_mgmt','cost_other_charges','cost_security_guard','cost_security_female','cost_security_supervisor','cost_house_keeping','cost_hk_materials','cost_electricity','cost_electricity_sub','cost_water','cost_diesel','cost_rental','cost_staff_welfare','cost_ho','cost_r_and_r','cost_traveling','cost_convence','cost_hra','cost_capex','cost_stationery','cost_tea','cost_other_expenses'] %}
                <div class="col-md-4 col-sm-6 mb-3">
                    <label for="{{ cost_field }}" class="form-label">{{ cost_field.replace('_',' ').title() }}
                        <span class="badge bg-danger badge-unit">‚Çπ</span>
                    </label>
                    <input type="number" step="0.01" id="{{ cost_field }}" name="{{ cost_field }}" class="form-control" placeholder="Enter in ‚Çπ" value="{{ form_data[cost_field] or 0 }}">
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Consumables Section -->
        <div class="card mb-5 border-primary">
            <div class="card-header text-primary"><h4>Consumables (Quantity) üì¶</h4></div>
            <div class="card-body row gx-4">
                {% for consumable in ['consumable_roll_100x150','consumable_roll_75x50','consumable_roll_25x50','consumable_a4_paper','consumable_ribbon_25x50'] %}
                <div class="col-md-4 col-sm-6 mb-3">
                    <label for="{{ consumable }}" class="form-label">{{ consumable.replace('_',' ').title() }}
                        <span class="badge bg-secondary badge-unit">Qty</span>
                    </label>
                    <input type="number" id="{{ consumable }}" name="{{ consumable }}" class="form-control" placeholder="Quantity" value="{{ form_data[consumable] or 0 }}">
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary btn-lg mt-3 shadow-sm">
                üíæ Save Daily Data
            </button>
        </div>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
